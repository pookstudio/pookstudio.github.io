{"version":3,"sources":["components/Layout/Footer.tsx","components/Layout/Layout.tsx","firebase.ts","contexts/AuthContext.tsx","PrivateRoute.tsx","components/Dashboard.tsx","components/Login.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Footer","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Layout","children","Container","component","maxWidth","CssBaseline","Grid","container","item","xs","lg","Box","mt","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","AuthContext","React","createContext","useAuth","useContext","AuthProvider","useState","user","setUser","loadingAuthState","setLoadingAuthState","useEffect","onAuthStateChanged","Provider","value","authenticated","logout","signOut","PrivateRoute","Component","rest","render","props","to","pathname","state","prevPath","path","Dashboard","a","collection","get","then","data","forEach","element","console","log","getData","displayName","email","onClick","uiConfigApp","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","AppLogin","className","uiConfig","firebaseAuth","App","basename","exact","Login","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c5ab7355.chunk.js","sourcesContent":["import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Link from \"@material-ui/core/Link\";\n\nconst Footer = () => {\n  return (\n    <>\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n        {\"Copyright Â© \"}\n        <Link color=\"inherit\" href=\"https://taxi2thailand.com/\">\n          Taxi2Thailand\n        </Link>{\" \"}\n        {new Date().getFullYear()}\n        {\".\"}\n      </Typography>\n    </>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nimport Footer from \"./Footer\";\n\ninterface Props {}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst Layout: React.FC<Props> = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"lg\">\n      <CssBaseline />\n      <Grid container>\n        <Grid item xs={12} lg={6}>\n          {children}\n        </Grid>\n      </Grid>\n      <Box mt={8}>\n        <Footer />\n      </Box>\n    </Container>\n  );\n};\n\nexport default Layout;\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBUUJzcM-ZLfQaxZsWWvcxJqapHTN84bQU\",\n  authDomain: \"taxi2thailand-c5cd8.firebaseapp.com\",\n  projectId: \"taxi2thailand-c5cd8\",\n  storageBucket: \"taxi2thailand-c5cd8.appspot.com\",\n  messagingSenderId: \"812219962963\",\n  appId: \"1:812219962963:web:67a5347030401a5940d8a6\",\n  measurementId: \"G-SJX1C8GR70\",\n};\n\nconst app = firebase.initializeApp(firebaseConfig);\n\nexport const auth = app.auth();\nexport const db = app.firestore();\nexport default app;\n","import React, { useContext } from \"react\";\r\nimport firebase from \"firebase\";\r\nimport { auth } from \"../firebase\";\r\n\r\ntype ContextProps = {\r\n  user: firebase.User | null;\r\n  authenticated: boolean;\r\n  setUser: any;\r\n  loadingAuthState: boolean;\r\n  logout: any;\r\n};\r\n\r\nconst AuthContext = React.createContext<Partial<ContextProps>>({});\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport default function AuthProvider({ children }: any) {\r\n  const [user, setUser] = React.useState(null as firebase.User | null);\r\n  const [loadingAuthState, setLoadingAuthState] = React.useState(true);\r\n\r\n  function logout() {\r\n    return auth.signOut();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user: any) => {\r\n      setUser(user);\r\n      setLoadingAuthState(false);\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user,\r\n        authenticated: user !== null,\r\n        loadingAuthState,\r\n        logout,\r\n      }}\r\n    >\r\n      {!loadingAuthState && children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"./contexts/AuthContext\";\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }: any) {\r\n  const { authenticated }: any = useAuth();\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return authenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          // <Redirect to=\"/login\" />\r\n          <Redirect\r\n            to={{ pathname: \"/login\", state: { prevPath: rest.path } }}\r\n          />\r\n        );\r\n      }}\r\n    ></Route>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { db } from \"../firebase\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nexport default function Dashboard() {\r\n  const { user, logout }: any = useAuth();\r\n\r\n  async function getData() {\r\n    const url = await db\r\n      .collection(\"pricingTable\")\r\n      .get()\r\n      .then((data: any) => {\r\n        // return data.docs[0].data().dbUrl;\r\n        data.forEach((element: any) => {\r\n          console.log(element.data());\r\n          // db.doc(element.data().refStartPoint.path)\r\n          //   .get()\r\n          //   .then((ddd: any) => {\r\n          //     console.log(ddd.data());\r\n          //   });\r\n          // db.doc(element.data().refEndPoint.path)\r\n          //   .get()\r\n          //   .then((ddd: any) => {\r\n          //     console.log(ddd.data());\r\n          //   });\r\n        });\r\n      });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      Dashboard\r\n      <h1>{user.displayName}</h1>\r\n      <strong>email: {user.email}</strong>\r\n      <button onClick={logout}>Logout</button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport firebase from \"firebase\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport app from \"../firebase\";\n\n// Configure FirebaseUI.\nconst uiConfigApp = {\n  // Popup signin flow rather than redirect flow.\n  // signInFlow: \"popup\",\n  // We will display Google , Facebook , Etc as auth providers.\n  signInSuccessUrl: \"/\",\n  signInOptions: [firebase.auth.GoogleAuthProvider.PROVIDER_ID],\n};\n\nfunction AppLogin() {\n  const { authenticated } = useAuth();\n  if (authenticated) return <Redirect to=\"/\" />;\n  else\n    return (\n      <div className=\"container\">\n        <p>Please sign-in:</p>\n        <StyledFirebaseAuth uiConfig={uiConfigApp} firebaseAuth={app.auth()} />\n      </div>\n    );\n}\n\nexport default AppLogin;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./App.scss\";\n\nimport Layout from \"./components/Layout/Layout\";\nimport AuthProvider from \"./contexts/AuthContext\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport Dashboard from \"./components/Dashboard\";\nimport Login from \"./components/Login\";\n\nfunction App() {\n  return (\n    // <div className=\"App\">\n    //   <header className=\"App-header\">\n    //     <img src={logo} className=\"App-logo\" alt=\"logo\" />\n    //     <p>\n    //       Edit <code>src/App.tsx</code> and save to reload.\n    //     </p>\n    //     <a\n    //       className=\"App-link\"\n    //       href=\"https://reactjs.org\"\n    //       target=\"_blank\"\n    //       rel=\"noopener noreferrer\"\n    //     >\n    //       Learn React\n    //     </a>\n    //   </header>\n    // </div>\n    <Layout>\n      <Router basename=\"/taxi2thailand-console\">\n        <AuthProvider>\n          <Switch>\n            <PrivateRoute exact path=\"/\" component={Dashboard} />\n            <Route path=\"/login\" component={Login} />\n          </Switch>\n        </AuthProvider>\n      </Router>\n    </Layout>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}